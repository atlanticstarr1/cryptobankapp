{"version":3,"sources":["assets/wbtc.svg","assets/usdc.svg","constants.js","drizzleOptions.js","utils/index.js","TokenWallet.js","TokenEarnings.js","TokenDeposit.js","TokenSupply.js","TokenRedeem.js","Token.js","PrimaryCard.js","DrizzleLoader.js","Header.js","Landing.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","contracts","web3","Web3","givenProvider","daiAddress","usdtAddress","usdcAddress","batAddress","zrxAddress","wBtcAddress","options","block","fallback","type","url","MyContract","contractName","web3Contract","eth","Contract","erc20Abi","polls","accounts","syncAlways","calculateApy","supplyRate","isNaN","ethMantissa","supplyApy","Math","pow","daysPerYear","parseFloat","toFixed","number","digits","num","re","RegExp","m","toString","match","toWei","amount","decimals","utils","fromWei","getUsdRate","symbol","a","ticker","get","then","price","data","rates","catch","e","useFormStyles","makeStyles","theme","root","display","margin","spacing","width","wrapper","position","fabProgress","color","green","top","left","zIndex","rewards","rewardProgress","useStyles","avatar","height","textAlign","backgroundColor","React","memo","apy","usdRate","balance","erc20Token","classes","name","usdPrice","iconName","str","lower","toLowerCase","charAt","toUpperCase","slice","sentenceCase","Card","className","variant","CardHeader","Badge","showZero","badgeContent","Typography","Avatar","src","wbtc","alt","usdc","Icon","size","tokenIcon","title","style","marginLeft","component","subheader","pastEarnings","currentEarnings","children","CardContent","controls","flexDirection","alignItems","padding","totalBalance","fontSize","CardActions","disableSpacing","TokenSupply","erc20","cAddress","account","drizzle","drizzleReactHooks","useDrizzle","useState","supply","setSupply","loading","setLoading","address","handleSubmit","preventDefault","methods","mintEth","estimateGas","from","value","gas","send","approve","mint","console","log","shouldDisable","onSubmit","TextField","id","label","fullWidth","disabled","required","onChange","target","InputLabelProps","shrink","inputProps","max","step","min","InputProps","startAdornment","InputAdornment","endAdornment","IconButton","onClick","Fab","CircularProgress","TokenRedeem","earningsOnly","redeem","setRedeem","redeemUnderlyingEth","redeemUnderlying","marginBottom","Redeem","Remove","maxWidth","actions","useDrizzleState","state","currentBlock","expanded","setExpanded","setErc20Token","useEffect","obj","Object","keys","length","call","getErc20Token","walletBalance","asset","setAsset","getTokenDetails","balances","supplyRatePerBlock","balanceOf","balancesEth","supplyRatePerBlockEth","getBalance","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","flexGrow","cEthAddress","cDaiAddress","cUsdtAddress","cUsdcAddress","cBatAddress","cZrxAddress","cWbtcAddress","PrimaryCard","Dai","Usdt","Usdc","Bat","Zrx","Wbtc","Grid","container","item","DrizzleLoader","Drizzle","drizzleOptions","DrizzleProvider","Initializer","loadingWeb3","loadingContractsAndAccounts","menuButton","marginRight","Header","AppBar","Toolbar","edge","aria-label","AccountBalance","AccountCircle","justifyContent","onboard","marginTop","intro","Landing","buttonText","setButtonText","isDisabled","setDisabled","setAccounts","onboarding","useRef","current","MetaMaskOnboarding","isMetaMaskInstalled","stopOnboarding","handleNewAccounts","newAccounts","handleChainChanged","_chainId","window","location","reload","ethereum","on","off","request","method","startOnboarding","Box","netId","parseInt","networkVersion","requiredNetwork","currentNetwork","Paper","MetaMaskButton","mt","showContent","darkTheme","createMuiTheme","palette","App","ThemeProvider","Container","CssBaseline","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.04fcbcb2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wbtc.f9b44883.svg\";","module.exports = __webpack_public_path__ + \"static/media/usdc.7cb25c30.svg\";","const priceUrl = `https://api.coinbase.com/v2/exchange-rates?currency=`;\r\nconst PRECISION = 8;\r\n\r\n// Mainnet\r\n// const contractAddresses = {\r\n//   cEthAddress: \"0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5\",\r\n//   daiAddress: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\r\n//   cDaiAddress: \"0x5d3a536e4d6dbd6114cc1ead35777bab948e3643\",\r\n//   usdtAddress: \"0xdac17f958d2ee523a2206206994597c13d831ec7\",\r\n//   cUsdtAddress: \"0xf650c3d88d12db855b8bf7d11be6c55a4e07dcc9\",\r\n// };\r\n\r\n// Rinkeby\r\n// const contracts = {\r\n//   networkAddress: 4,\r\n//   cEthAddress: \"0xd6801a1dffcd0a410336ef88def4320d6df1883e\",\r\n//   daiAddress: \"0x5592ec0cfb4dbc12d3ab100b257153436a1f0fea\",\r\n//   cDaiAddress: \"0x6d7f0754ffeb405d23c51ce938289d4835be3b14\",\r\n//   usdtAddress: \"0xd9ba894e0097f8cc2bbc9d24d308b98e36dc6d02\",\r\n//   cUsdtAddress: \"0x2fb298bdbef468638ad6653ff8376575ea41e768\",\r\n//   cUsdcAddress: \"0x5b281a6dda0b271e91ae35de655ad301c976edb1\",\r\n//   usdcAddress: \"0x4dbcdf9b62e891a7cec5a2568c3f4faf9e8abe2b\",\r\n// };\r\n\r\n// Ropsten\r\n// const contracts = {\r\n//   networkAddress: 3,\r\n//   cEthAddress: \"0xbe839b6d93e3ea47effcca1f27841c917a8794f3\",\r\n//   daiAddress: \"0xc2118d4d90b274016cb7a54c03ef52e6c537d957\",\r\n//   cDaiAddress: \"0xdb5ed4605c11822811a39f94314fdb8f0fb59a2c\",\r\n//   usdtAddress: \"0x516de3a7a567d81737e3a46ec4ff9cfd1fcb0136\",\r\n//   cUsdtAddress: \"0x135669c2dcbd63f639582b313883f101a4497f76\",\r\n//   cUsdcAddress: \"0x8af93cae804cc220d1a608d4fa54d1b6ca5eb361\",\r\n//   usdcAddress: \"0x0d9c8723b343a8368bebe0b5e89273ff8d712e3c\",\r\n//   batAddress: \"0x443fd8d5766169416ae42b8e050fe9422f628419\",\r\n//   cBatAddress: \"0x9e95c0b2412ce50c37a121622308e7a6177f819d\",\r\n//   zrxAddress: \"0xE4C6182EA459E63B8F1be7c428381994CcC2D49c\",\r\n//   cZrxAddress: \"0x00e02a5200ce3d5b5743f5369deb897946c88121\",\r\n//   wBtcAddress: \"0xBde8bB00A7eF67007A96945B3a3621177B615C44\",\r\n//   cWbtcAddress: \"0x58145bc5407d63daf226e4870beeb744c588f149\",\r\n// };\r\n\r\n// Iota\r\nconst contracts = {\r\n  networkAddress: 1074,\r\n  cEthAddress: \"0xCAa044679c075AA25242FfcCf4d237Cc1e0CAb9C\",\r\n  daiAddress: \"0x1C98fA2483E037687fe4DdF65d0e8A11aB60Dbe2\",\r\n  cDaiAddress: \"0xB48142B2F10913A8Eefe360eC469d3c3011D510C\",\r\n  usdtAddress: \"0x6bAC9f2870F79a7D4Dc0d2973947f3762f80b73e\",\r\n  cUsdtAddress: \"0xa399bc25bB452624c9248a95B6e29A8cB9D19795\",\r\n  cUsdcAddress: \"0x7208b8ee8db310dde366cf2668EDCD2754172066\",\r\n  usdcAddress: \"0xCdaD6F32c4c623a7e16519435d3F8962E6519426\",\r\n  batAddress: \"0x4E1d337e0A3c31633FBcc1EDb76856014978C5f3\",\r\n  cBatAddress: \"0x028BdF4267a64D87D872919Ef52fD0c3F01F9e79\",\r\n  zrxAddress: \"0xAf68c12c3B7ccA7991F7f88CD47c0C16Ea2Ef289\",\r\n  cZrxAddress: \"0xC58b40793465Ee20463D6B85DFe8a6A634B44470\",\r\n  wBtcAddress: \"0xF8b358FE81d5b32E5eF12D96003958c81b22e9F9\",\r\n  cWbtcAddress: \"0xa39f7C3440aE778A2e41631280f5Ae4894A4d6A4\",\r\n};\r\n\r\nexport {contracts, priceUrl, PRECISION};\r\n","import Web3 from \"web3\";\nimport MyContract from \"./contracts/MyContract.json\";\nimport erc20Abi from \"./contracts/Erc20Abi.json\";\nimport {contracts} from \"./constants\";\n\nconst providerUrl = \"ws://127.0.0.1:8545\";\nconst web3 = new Web3(Web3.givenProvider || providerUrl);\nconst {daiAddress, usdtAddress, usdcAddress, batAddress, zrxAddress, wBtcAddress} = contracts;\n\nconst options = {\n  web3: {\n    block: false,\n    fallback: {\n      type: \"ws\",\n      url: providerUrl,\n    },\n  },\n  contracts: [\n    MyContract,\n    {\n      contractName: \"Dai\",\n      web3Contract: new web3.eth.Contract(erc20Abi, daiAddress),\n    },\n    {\n      contractName: \"Usdt\",\n      web3Contract: new web3.eth.Contract(erc20Abi, usdtAddress),\n    },\n    {\n      contractName: \"Usdc\",\n      web3Contract: new web3.eth.Contract(erc20Abi, usdcAddress),\n    },\n    {\n      contractName: \"Bat\",\n      web3Contract: new web3.eth.Contract(erc20Abi, batAddress),\n    },\n    {\n      contractName: \"Zrx\",\n      web3Contract: new web3.eth.Contract(erc20Abi, zrxAddress),\n    },\n    {\n      contractName: \"Wbtc\",\n      web3Contract: new web3.eth.Contract(erc20Abi, wBtcAddress),\n    },\n  ],\n  polls: {\n    accounts: 1000,\n  },\n  syncAlways: true,\n  // events: {\n  //   MyContract: [\"MyLog\"],\n  // },\n};\n\nexport default options;\n","// Exchange rate from cToken to Token\r\nimport Web3 from \"web3\";\r\nimport {get} from \"axios\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {green} from \"@material-ui/core/colors\";\r\nimport {priceUrl} from \"../constants\";\r\n\r\nconst web3 = new Web3();\r\n\r\nconst getExchangeRate = (exchangeRate, tokenDecimals) => {\r\n  if (isNaN(exchangeRate) || isNaN(tokenDecimals)) return 0;\r\n  const cTokenDecimals = 8; // all cTokens have 8 decimal places\r\n  const mantissa = 18 + parseInt(tokenDecimals) - cTokenDecimals;\r\n  return exchangeRate / 10 ** mantissa;\r\n};\r\n\r\nconst calculateApy = (supplyRate) => {\r\n  if (isNaN(supplyRate)) return 0;\r\n  const blocksPerDay = 4 * 60 * 24;\r\n  const daysPerYear = 365;\r\n  const ethMantissa = 10 ** 18;\r\n\r\n  const supplyApy =\r\n    (Math.pow((supplyRate / ethMantissa) * blocksPerDay + 1, daysPerYear - 1) - 1) * 100;\r\n  return parseFloat(supplyApy).toFixed(4);\r\n};\r\nconst toFixed = (number, digits) => {\r\n  if (isNaN(number)) return 0;\r\n  // evaluate numbers with exponents etc.\r\n  const num = parseFloat(number).toFixed(digits + 1);\r\n  const re = new RegExp(\"(^-?\\\\d+\\\\.\\\\d{\" + digits + \"})(\\\\d)\");\r\n  const m = num.toString().match(re);\r\n  return m ? m[1] : num;\r\n};\r\n\r\nconst toWei = (amount, decimals) => {\r\n  if (isNaN(amount) || isNaN(decimals)) return 0;\r\n  return decimals == 18 ? web3.utils.toWei(amount) : amount * 10 ** decimals;\r\n};\r\n\r\nconst fromWei = (amount, decimals) => {\r\n  if (isNaN(amount) || isNaN(decimals)) return 0;\r\n  return decimals == 18 ? web3.utils.fromWei(amount) : amount / 10 ** decimals;\r\n};\r\n\r\nconst getUsdRate = async (symbol) => {\r\n  let ticker = symbol;\r\n  if (symbol == \"USDT\") {\r\n    ticker = \"USDC\";\r\n  } else if (symbol == \"WBTC\") {\r\n    ticker = \"BTC\";\r\n  }\r\n  return get(priceUrl + ticker)\r\n    .then((price) => {\r\n      return price.data.data.rates[\"USD\"];\r\n    })\r\n    .catch((e) => 0);\r\n};\r\n\r\nconst useFormStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    margin: theme.spacing(1),\r\n    width: \"95%\",\r\n  },\r\n  wrapper: {\r\n    margin: theme.spacing(1),\r\n    position: \"relative\",\r\n  },\r\n  fabProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: -5,\r\n    left: -5,\r\n    zIndex: 1,\r\n  },\r\n  rewards: {\r\n    position: \"relative\",\r\n  },\r\n  rewardProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: -3,\r\n    left: 0,\r\n    zIndex: 1,\r\n  },\r\n}));\r\n\r\nconst isEmpty = (obj) => {\r\n  return Object.keys(obj).length === 0;\r\n};\r\n\r\nconst sentenceCase = (str = \"\") => {\r\n  const lower = str.toLowerCase();\r\n  return str.charAt(0).toUpperCase() + lower.slice(1);\r\n};\r\n\r\nexport {\r\n  getExchangeRate,\r\n  calculateApy,\r\n  toFixed,\r\n  toWei,\r\n  fromWei,\r\n  getUsdRate,\r\n  useFormStyles,\r\n  isEmpty,\r\n  sentenceCase,\r\n};\r\n","import React from \"react\";\r\nimport {Avatar, Badge, CardHeader, Card, makeStyles, Typography} from \"@material-ui/core\";\r\nimport {toFixed, sentenceCase} from \"./utils\";\r\nimport {Icon} from \"rimble-ui\";\r\nimport wbtc from \"./assets/wbtc.svg\";\r\nimport usdc from \"./assets/usdc.svg\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  avatar: {\r\n    height: \"80px\",\r\n    width: \"80px\",\r\n    textAlign: \"center\",\r\n    color: \"#f50057\",\r\n    backgroundColor: \"transparent\",\r\n    //border: \"1px solid crimson\",\r\n  },\r\n}));\r\n\r\nconst TokenWallet = ({apy, usdRate, balance, erc20Token}) => {\r\n  const classes = useStyles();\r\n  const {symbol, name} = erc20Token;\r\n  const usdPrice = toFixed(balance * usdRate, 2);\r\n  let iconName = sentenceCase(symbol);\r\n\r\n  const tokenIcon = () => {\r\n    switch (iconName) {\r\n      case \"Wbtc\":\r\n        return <img src={wbtc} width={60} alt=\"wbtc\" />;\r\n      case \"Usdc\":\r\n        return <img src={usdc} width={60} alt=\"usdc\" />;\r\n      default:\r\n        return <Icon name={iconName} size=\"60\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root} variant=\"outlined\">\r\n      <CardHeader\r\n        avatar={\r\n          <Badge\r\n            showZero\r\n            color=\"secondary\"\r\n            badgeContent={<Typography variant=\"h6\">{apy}%</Typography>}\r\n          >\r\n            <Avatar className={classes.avatar}>{tokenIcon()}</Avatar>\r\n          </Badge>\r\n        }\r\n        title={\r\n          <div style={{marginLeft: \"50px\"}}>\r\n            <Typography variant=\"h6\" component=\"h2\">\r\n              {name}\r\n            </Typography>\r\n            <Typography variant=\"h5\">${usdPrice}</Typography>\r\n          </div>\r\n        }\r\n        subheader={\r\n          <Typography color=\"textSecondary\" style={{marginLeft: \"50px\"}}>\r\n            {balance} {symbol}\r\n          </Typography>\r\n        }\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default React.memo(TokenWallet);\r\n","import React from \"react\";\r\nimport {Card, CardContent, makeStyles, Typography} from \"@material-ui/core\";\r\nimport {toFixed} from \"./utils\";\r\nimport {PRECISION} from \"./constants\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n}));\r\n\r\nconst TokenEarnings = ({symbol, pastEarnings, currentEarnings, usdRate, children}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root} variant=\"outlined\">\r\n      <CardContent>\r\n        <div className={classes.root}>\r\n          <Typography color=\"primary\" variant=\"h6\">\r\n            Rewards\r\n          </Typography>\r\n          {currentEarnings > 0 && children}\r\n        </div>\r\n        <Typography variant=\"h6\">${toFixed(currentEarnings * usdRate, PRECISION)}</Typography>\r\n        <Typography color=\"textSecondary\">{`${currentEarnings} ${symbol}`}</Typography>\r\n      </CardContent>\r\n      <CardContent>\r\n        <Typography color=\"primary\" variant=\"h6\">\r\n          Lifetime\r\n        </Typography>\r\n        <Typography variant=\"h6\" color=\"textSecondary\">\r\n          ${toFixed(pastEarnings * usdRate, PRECISION)}\r\n        </Typography>\r\n        <Typography color=\"textSecondary\">\r\n          {pastEarnings} {symbol}\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default React.memo(TokenEarnings);\r\n","import React from \"react\";\r\nimport {Card, CardHeader, CardActions, makeStyles, Typography} from \"@material-ui/core\";\r\nimport Money from \"@material-ui/icons/AttachMoney\";\r\nimport {toFixed} from \"./utils\";\r\nimport {PRECISION} from \"./constants\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  controls: {\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n    padding: 0,\r\n  },\r\n}));\r\n\r\nconst TokenDeposit = ({symbol, totalBalance, usdRate, children}) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Card variant=\"outlined\">\r\n      <CardHeader\r\n        avatar={<Money style={{color: \"green\", fontSize: \"60px\"}} />}\r\n        title={\r\n          <div>\r\n            <Typography variant=\"h6\">Invested</Typography>\r\n            <Typography variant=\"h5\">{toFixed(totalBalance * usdRate, PRECISION)}</Typography>\r\n          </div>\r\n        }\r\n        subheader={\r\n          <Typography color=\"textSecondary\">\r\n            {totalBalance} {symbol}\r\n          </Typography>\r\n        }\r\n      />\r\n      <CardActions className={classes.controls} disableSpacing>\r\n        {children}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default React.memo(TokenDeposit);\r\n","import React, {useState} from \"react\";\r\nimport {drizzleReactHooks} from \"@drizzle/react-plugin\";\r\nimport {toWei, useFormStyles} from \"./utils\";\r\nimport {CircularProgress, InputAdornment, Fab, IconButton, TextField} from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nconst TokenSupply = ({erc20, erc20Token, cAddress, account, balance}) => {\r\n  const {drizzle} = drizzleReactHooks.useDrizzle();\r\n  const [supply, setSupply] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const {address, decimals, symbol} = erc20Token;\r\n  const classes = useFormStyles();\r\n  const {\r\n    contracts: {MyContract},\r\n  } = drizzle;\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const amount = toWei(supply, decimals);\r\n      if (symbol === \"ETH\") {\r\n        const gas = await MyContract.methods\r\n          .mintEth(cAddress)\r\n          .estimateGas({from: account, value: amount});\r\n        await MyContract.methods.mintEth(cAddress).send({from: account, value: amount, gas});\r\n      } else {\r\n        await erc20.methods.approve(MyContract.address, amount).send({from: account});\r\n        //const gas = await MyContract.methods.mint(amount, address, cAddress).estimateGas();\r\n        await MyContract.methods.mint(amount, erc20.address, cAddress).send({from: account});\r\n      }\r\n    } catch (e) {\r\n      console.log(\"ENCOUNTERED ERROR\", e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    setSupply(e.target.value);\r\n  };\r\n\r\n  const setMax = () => {\r\n    setSupply(balance);\r\n  };\r\n\r\n  const shouldDisable = balance === 0 || loading;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.root}>\r\n      <TextField\r\n        id=\"deposit\"\r\n        label=\"Deposit\"\r\n        type=\"number\"\r\n        fullWidth\r\n        disabled={shouldDisable}\r\n        value={supply}\r\n        required\r\n        onChange={handleInput}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        variant=\"outlined\"\r\n        margin=\"dense\"\r\n        inputProps={{\r\n          max: balance,\r\n          step: 1e-8,\r\n          min: 1e-8,\r\n          style: {fontSize: 22},\r\n        }}\r\n        InputProps={{\r\n          startAdornment: <InputAdornment position=\"start\">{symbol}</InputAdornment>,\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton onClick={setMax} size=\"small\" disabled={shouldDisable}>\r\n                all\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n      <div className={classes.wrapper}>\r\n        <Fab color=\"primary\" type=\"submit\" size=\"small\" disabled={shouldDisable}>\r\n          <AddIcon />\r\n        </Fab>\r\n        {loading && <CircularProgress size={50} className={classes.fabProgress} />}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default TokenSupply;\r\n","import React, {useState} from \"react\";\r\nimport {drizzleReactHooks} from \"@drizzle/react-plugin\";\r\nimport {CircularProgress, IconButton, InputAdornment, Fab, TextField} from \"@material-ui/core\";\r\nimport {Remove, Redeem} from \"@material-ui/icons\";\r\nimport {toWei, useFormStyles} from \"./utils\";\r\n\r\nconst TokenRedeem = ({erc20Token, cAddress, account, balance, earningsOnly}) => {\r\n  const {drizzle} = drizzleReactHooks.useDrizzle();\r\n  const [redeem, setRedeem] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const {address, decimals, symbol} = erc20Token;\r\n  const {\r\n    contracts: {MyContract},\r\n  } = drizzle;\r\n  const classes = useFormStyles();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const amount = earningsOnly ? toWei(balance, decimals) : toWei(redeem, decimals);\r\n      if (symbol == \"ETH\") {\r\n        const gas = await MyContract.methods.redeemUnderlyingEth(amount, cAddress).estimateGas();\r\n        await MyContract.methods.redeemUnderlyingEth(amount, cAddress).send({from: account, gas});\r\n      } else {\r\n        const gas = await MyContract.methods\r\n          .redeemUnderlying(amount, address, cAddress)\r\n          .estimateGas();\r\n        await MyContract.methods\r\n          .redeemUnderlying(amount, address, cAddress)\r\n          .send({from: account, gas});\r\n      }\r\n    } catch (e) {\r\n      console.log(\"ENCOUNTERED ERROR\", e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    setRedeem(e.target.value);\r\n  };\r\n\r\n  const setMax = () => {\r\n    setRedeem(balance);\r\n  };\r\n\r\n  const shouldDisable = balance == 0 || loading;\r\n\r\n  if (earningsOnly) {\r\n    return (\r\n      <div className={classes.rewards}>\r\n        <IconButton\r\n          onClick={handleSubmit}\r\n          size=\"small\"\r\n          style={{padding: \"0 0 2px 5px\", marginBottom: \"auto\"}}\r\n          disabled={shouldDisable}\r\n        >\r\n          <Redeem color=\"secondary\" />\r\n        </IconButton>\r\n        {loading && <CircularProgress size={32} className={classes.rewardProgress} />}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.root}>\r\n      <TextField\r\n        id=\"withdraw\"\r\n        label=\"Withdraw\"\r\n        type=\"number\"\r\n        value={redeem}\r\n        required\r\n        fullWidth\r\n        disabled={shouldDisable}\r\n        onChange={handleInput}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        variant=\"outlined\"\r\n        margin=\"dense\"\r\n        inputProps={{\r\n          max: balance,\r\n          step: 1e-8,\r\n          min: 1e-8,\r\n          style: {fontSize: 22},\r\n        }}\r\n        InputProps={{\r\n          startAdornment: <InputAdornment position=\"start\">{symbol}</InputAdornment>,\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton onClick={setMax} size=\"small\" disabled={shouldDisable}>\r\n                all\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n      <div className={classes.wrapper}>\r\n        <Fab color=\"secondary\" type=\"submit\" size=\"small\" disabled={shouldDisable}>\r\n          <Remove />\r\n        </Fab>\r\n        {loading && <CircularProgress size={50} className={classes.fabProgress} />}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default TokenRedeem;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {drizzleReactHooks} from \"@drizzle/react-plugin\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {Card, Collapse, IconButton, Typography} from \"@material-ui/core\";\r\nimport {ExpandMore, ExpandLess} from \"@material-ui/icons\";\r\nimport {calculateApy, toFixed, fromWei, getUsdRate, isEmpty} from \"./utils\";\r\nimport TokenWallet from \"./TokenWallet\";\r\nimport TokenEarnings from \"./TokenEarnings\";\r\nimport TokenDeposit from \"./TokenDeposit\";\r\nimport TokenSupply from \"./TokenSupply\";\r\nimport TokenRedeem from \"./TokenRedeem\";\r\nimport {PRECISION} from \"./constants\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    width: 383,\r\n    //minWidth: 330,\r\n    maxWidth: 400,\r\n  },\r\n  actions: {\r\n    padding: \"0 0 0 1rem\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n}));\r\n\r\nconst Token = ({erc20, cAddress}) => {\r\n  const classes = useStyles();\r\n  const {drizzle} = drizzleReactHooks.useDrizzle();\r\n  const {account, currentBlock} = drizzleReactHooks.useDrizzleState((state) => ({\r\n    account: state.accounts[0],\r\n    currentBlock: state.currentBlock,\r\n  }));\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const {\r\n    contracts: {MyContract},\r\n    web3,\r\n  } = drizzle;\r\n\r\n  const [erc20Token, setErc20Token] = useState({\r\n    name: \"\",\r\n    symbol: \"\",\r\n    decimals: 18,\r\n    address: erc20.address,\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log(\"USE EFFECT 1\");\r\n    const getErc20Token = async () => {\r\n      if (!isEmpty(erc20)) {\r\n        const name = await erc20.methods.name().call();\r\n        const symbol = await erc20.methods.symbol().call();\r\n        const decimals = await erc20.methods.decimals().call();\r\n        setErc20Token({...erc20Token, name, symbol, decimals});\r\n      } else {\r\n        setErc20Token({...erc20Token, name: \"Ether\", symbol: \"ETH\"});\r\n      }\r\n    };\r\n    getErc20Token();\r\n  }, []);\r\n\r\n  const [asset, setAsset] = useState({\r\n    apy: 0,\r\n    pastEarnings: 0,\r\n    currentEarnings: 0,\r\n    totalBalance: 0,\r\n    walletBalance: 0,\r\n    usdRate: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log(\"USE EFFECT 2\");\r\n    const getTokenDetails = async () => {\r\n      const {decimals, symbol} = erc20Token;\r\n      let balances = 0,\r\n        pastEarnings = 0,\r\n        apy = 0,\r\n        walletBalance = 0;\r\n      if (symbol !== \"ETH\") {\r\n        balances = await MyContract.methods.balances(cAddress).call();\r\n        pastEarnings = await MyContract.methods.pastEarnings(cAddress).call();\r\n        apy = await MyContract.methods.supplyRatePerBlock(cAddress).call();\r\n        walletBalance = await erc20.methods.balanceOf(account).call();\r\n      } else {\r\n        balances = await MyContract.methods.balancesEth(cAddress).call();\r\n        pastEarnings = await MyContract.methods.pastEarnings(cAddress).call();\r\n        apy = await MyContract.methods.supplyRatePerBlockEth(cAddress).call();\r\n        walletBalance = await web3.eth.getBalance(account);\r\n      }\r\n      const usdRate = await getUsdRate(symbol);\r\n      let {totalBalance, currentEarnings} = balances;\r\n      totalBalance = toFixed(fromWei(totalBalance, decimals), PRECISION);\r\n      currentEarnings = toFixed(fromWei(currentEarnings, decimals), PRECISION);\r\n      pastEarnings = toFixed(fromWei(pastEarnings, decimals), PRECISION);\r\n      walletBalance = toFixed(fromWei(walletBalance, decimals), PRECISION);\r\n      apy = calculateApy(apy);\r\n\r\n      setAsset({\r\n        ...asset,\r\n        apy,\r\n        pastEarnings,\r\n        currentEarnings,\r\n        totalBalance,\r\n        walletBalance,\r\n        usdRate,\r\n      });\r\n    };\r\n    if (erc20Token.name) getTokenDetails();\r\n  }, [currentBlock, erc20Token, account]);\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <TokenWallet\r\n        apy={asset.apy}\r\n        usdRate={asset.usdRate}\r\n        balance={asset.walletBalance}\r\n        erc20Token={erc20Token}\r\n      />\r\n      <div className={classes.actions}>\r\n        <Typography variant=\"subtitle1\">Earnings/Deposits</Typography>\r\n        <IconButton onClick={() => setExpanded(!expanded)}>\r\n          {expanded ? <ExpandLess /> : <ExpandMore />}\r\n        </IconButton>\r\n      </div>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <>\r\n          <TokenDeposit\r\n            symbol={erc20Token.symbol}\r\n            totalBalance={asset.totalBalance}\r\n            usdRate={asset.usdRate}\r\n          >\r\n            <TokenSupply\r\n              erc20={erc20}\r\n              erc20Token={erc20Token}\r\n              cAddress={cAddress}\r\n              account={account}\r\n              balance={asset.walletBalance}\r\n            />\r\n            <TokenRedeem\r\n              erc20Token={erc20Token}\r\n              cAddress={cAddress}\r\n              account={account}\r\n              balance={asset.totalBalance}\r\n              earningsOnly={false}\r\n            />\r\n          </TokenDeposit>\r\n          <TokenEarnings\r\n            symbol={erc20Token.symbol}\r\n            pastEarnings={asset.pastEarnings}\r\n            currentEarnings={asset.currentEarnings}\r\n            usdRate={asset.usdRate}\r\n          >\r\n            <TokenRedeem\r\n              erc20Token={erc20Token}\r\n              cAddress={cAddress}\r\n              account={account}\r\n              balance={asset.currentEarnings}\r\n              earningsOnly={true}\r\n            />\r\n          </TokenEarnings>\r\n        </>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default React.memo(Token);\r\n","import React from \"react\";\r\nimport {drizzleReactHooks} from \"@drizzle/react-plugin\";\r\nimport {Grid, makeStyles} from \"@material-ui/core\";\r\nimport {contracts} from \"./constants\";\r\nimport Token from \"./Token\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst {\r\n  cEthAddress,\r\n  cDaiAddress,\r\n  cUsdtAddress,\r\n  cUsdcAddress,\r\n  cBatAddress,\r\n  cZrxAddress,\r\n  cWbtcAddress,\r\n} = contracts;\r\n\r\nconst PrimaryCard = () => {\r\n  const {drizzle} = drizzleReactHooks.useDrizzle();\r\n  const classes = useStyles();\r\n\r\n  const {\r\n    contracts: {Dai, Usdt, Usdc, Bat, Zrx, Wbtc},\r\n  } = drizzle;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={1}>\r\n        <Grid item>\r\n          <Token erc20={{}} cAddress={cEthAddress} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Token erc20={Dai} cAddress={cDaiAddress} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Token erc20={Usdt} cAddress={cUsdtAddress} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Token erc20={Usdc} cAddress={cUsdcAddress} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Token erc20={Wbtc} cAddress={cWbtcAddress} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Token erc20={Bat} cAddress={cBatAddress} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Token erc20={Zrx} cAddress={cZrxAddress} />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrimaryCard;\r\n","import React from \"react\";\nimport {Drizzle} from \"@drizzle/store\";\nimport {drizzleReactHooks} from \"@drizzle/react-plugin\";\nimport drizzleOptions from \"./drizzleOptions\";\nimport PrimaryCard from \"./PrimaryCard\";\nimport {CircularProgress} from \"@material-ui/core\";\n\nfunction DrizzleLoader() {\n  const drizzle = new Drizzle(drizzleOptions);\n  const {DrizzleProvider, Initializer} = drizzleReactHooks;\n  return (\n    <DrizzleProvider drizzle={drizzle}>\n      <Initializer\n        loadingWeb3={<CircularProgress size={60} />}\n        loadingContractsAndAccounts={<CircularProgress size={60} />}\n      >\n        <PrimaryCard />\n      </Initializer>\n    </DrizzleProvider>\n  );\n}\n\nexport default DrizzleLoader;\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport {AccountBalance, AccountCircle} from \"@material-ui/icons\";\r\nimport {Box} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function Header() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n          <AccountBalance />\r\n        </IconButton>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Cryptobank\r\n        </Typography>\r\n        <IconButton color=\"inherit\">\r\n          <AccountCircle />\r\n        </IconButton>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useRef} from \"react\";\r\nimport {Box, makeStyles, Paper, Typography} from \"@material-ui/core\";\r\nimport MetaMaskOnboarding from \"@metamask/onboarding\";\r\nimport ConnectionBanner from \"@rimble/connection-banner\";\r\nimport {MetaMaskButton} from \"rimble-ui\";\r\nimport DrizzleLoader from \"./DrizzleLoader\";\r\nimport {contracts} from \"./constants\";\r\nimport Header from \"./Header\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: 8,\r\n  },\r\n  onboard: {display: \"flex\", justifyContent: \"center\", marginTop: \"2rem\"},\r\n  intro: {\r\n    textAlign: \"center\",\r\n    padding: 8,\r\n  },\r\n}));\r\n\r\nconst ONBOARD_TEXT = \"Click here to install MetaMask!\";\r\nconst CONNECT_TEXT = \"Connect\";\r\nconst CONNECTED_TEXT = \"Connected\";\r\n\r\nconst Landing = () => {\r\n  const classes = useStyles();\r\n  const [buttonText, setButtonText] = useState(ONBOARD_TEXT);\r\n  const [isDisabled, setDisabled] = useState(false);\r\n  const [accounts, setAccounts] = useState([]);\r\n  const onboarding = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!onboarding.current) {\r\n      onboarding.current = new MetaMaskOnboarding();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (MetaMaskOnboarding.isMetaMaskInstalled()) {\r\n      if (accounts.length > 0) {\r\n        setButtonText(CONNECTED_TEXT);\r\n        setDisabled(true);\r\n        onboarding.current.stopOnboarding();\r\n      } else {\r\n        setButtonText(CONNECT_TEXT);\r\n        setDisabled(false);\r\n      }\r\n    }\r\n  }, [accounts]);\r\n\r\n  useEffect(() => {\r\n    const handleNewAccounts = (newAccounts) => {\r\n      if (newAccounts.length == 0) setAccounts(newAccounts);\r\n    };\r\n\r\n    const handleChainChanged = (_chainId) => {\r\n      window.location.reload();\r\n    };\r\n\r\n    if (MetaMaskOnboarding.isMetaMaskInstalled()) {\r\n      setButtonText(CONNECT_TEXT);\r\n      setDisabled(false);\r\n      window.ethereum.on(\"accountsChanged\", handleNewAccounts);\r\n      window.ethereum.on(\"chainChanged\", handleChainChanged);\r\n      return () => {\r\n        window.ethereum.off(\"accountsChanged\", handleNewAccounts);\r\n        window.ethereum.off(\"chainChanged\", handleChainChanged);\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  const onClick = () => {\r\n    if (MetaMaskOnboarding.isMetaMaskInstalled()) {\r\n      window.ethereum\r\n        .request({method: \"eth_requestAccounts\"})\r\n        .then((newAccounts) => setAccounts(newAccounts))\r\n        .catch(() => {\r\n          console.log(\"user rejected access\");\r\n        });\r\n    } else {\r\n      onboarding.current.startOnboarding();\r\n    }\r\n  };\r\n\r\n  const showContent = () => {\r\n    if (accounts.length > 0) {\r\n      const netId = parseInt(window.ethereum.networkVersion);\r\n      const requiredNetwork = contracts.networkAddress;\r\n      return (\r\n        <Box className={classes.root}>\r\n          {netId != requiredNetwork ? (\r\n            <ConnectionBanner currentNetwork={netId} requiredNetwork={requiredNetwork} />\r\n          ) : (\r\n            <DrizzleLoader />\r\n          )}\r\n        </Box>\r\n      );\r\n    }\r\n    return (\r\n      <Box className={classes.onboard}>\r\n        <Paper className={classes.intro}>\r\n          <Typography variant=\"h5\" component=\"h3\">\r\n            Welcome to Crypto Bank\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            Earn interest on your deposits every 15 seconds. FREE deposits and withdrawals.\r\n            <br /> Connect your wallet to get started.\r\n          </Typography>\r\n          <MetaMaskButton disabled={isDisabled} onClick={onClick} mt={4}>\r\n            {buttonText}\r\n          </MetaMaskButton>\r\n        </Paper>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Header />\r\n      {showContent()}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React from \"react\";\r\nimport {Container, createMuiTheme, CssBaseline} from \"@material-ui/core\";\r\nimport {ThemeProvider} from \"@material-ui/styles\";\r\nimport Landing from \"./Landing\";\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n  },\r\n});\r\n\r\nexport default function App() {\r\n  return (\r\n    <ThemeProvider theme={darkTheme}>\r\n      <Container maxWidth=\"lg\">\r\n        <CssBaseline />\r\n        <Landing />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}